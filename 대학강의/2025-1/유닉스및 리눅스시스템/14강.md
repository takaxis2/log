# 네트워크 보안 개요
### 네트워크 보안
- 네트워크 기술, 네트워크 기반 서비스의 보안 취약점을 악용한 공격으로부터 정보자산을 보호하는 보안체계 및 일련의 활동

### 네트워크 보안 위협
- 네트워크와 데이터의 무결성, 기밀성, 가용성 및 사용 편의성을 침해 혹은 악영향을 끼치는 일련의 사건이나 행위
- 기밀성 : 인증/인가 받은 사람만
- 무결성 : 데이터가 임의로 변경x
- 가용성 : 언제든지 사용 가능 해야 함
- 위협분류
	- 내부/외부
	- 사람/시스템
	- 의도/실수

# 네트워크 프로토콜의 취약점
### TCP, UDP 취약점
- TCP : Control Flags, Sequence Number 등 -> 포트 스캐닝, Dos 공격 등
	- UDP :  데이터 전송 시 검증 구조가 없음  -> Dos 공격

### IP, ARP 프로토콜 취약점
- IP : 설계 당시 보안을 고려하지 않음 -> IP 패킷의 변조, 인증 우회, Dos 공격 등
- ARP : 인증 메커니즘이 없음 -> ARP Spoofing, 도청 공격 등

### 응용 프로토콜 취약점
- HTTP 프로토콜 : 잘 알려진 Header 구조 -> HTTP Get Flooding, Slowloris 공격 등
- Network 서비스, 메일 서비스, Database 서비스 등 상호 연동하는 시스템 구조를 기반으로 공격

# 네트워크 침해 / 공격 기법 및 특징
### 포트 스캐닝
- 임의의 패킷을 전송 후 반응을 확인하여 서비스 동작 여부 및 특징, 운영 체제, 플랫폼 종류 등을 확인

| 포트 스캐닝 방법        | 설명                                                                                                                           |
| ---------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| TCP Scanning     | - TCP 연결 시 사용하는 3-way handshaking을 이용<br>- TCP 기반의 서비스가 운영 중일 경우, Open된 Port에 연결<br>- 이후 추가 데이터를 전송하여 정보를 확인 또는 연결을 종료       |
| UDP Scanning     | - ICMP unreachable 메세지를 통해 포트의 사용여부를 확인<br>- DNS 서비스의 UDP/53 포트와 같이 알려진 포트를 대상으로 UDP 패킷을 전송                                  |
| Stealth Scanning | - TCP Header의 flag를 조작하여 패킷을 전송<br>- FIN, NULL, ACK flag를 강제로 설정하여 전송 후 응답을 확인<br>- 모든 falg를 설정하여 전송하는 방식 -> XMAS scan       |
| SYN Scanning     | - TCP 연결 시 사용하는 3-way handshaking을 완료하지 않는 방법<br>- SYN-ACK 신호를 수신한 후 ACK를 전송하지 않으므로 서버에 log를 남기지 않는 stealth-scanning 방식 중 하나 |
### 스니핑(Sniffing)
- 네트워크로 전송되는 데이터를 도청하는 해킹 기법

| Network Promiscuous Mode                                                                                           | Proxy Application                                                                                              |
| ------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------- |
| - Network Interface를 무차별 모드로 변경<br>- 수신한 프레임의 목적지 MAC 주소가 자신(공격자)의 MAC 주소와 다른 경우에도 수신함<br>- 수신은 패킷을 모니터링 프로그램으로 전달 | - BurpSuite, Paros 등 응용프로그램 기반의 Proxy를 이용하여 클라이언트 <-> 서버간 통신 데이터 확인                                            |
| <리눅스><br>ifconfig eth0 promisc<br>명령으로 네트워크 인터페이스를 무차별 모드로 변경<br><윈도우><br>PCAP Library 사용                          | - Proxy program<br>- Web Browser 등 통신 프로그램의 Proxy 서버 옵션을 설정<br><윈도우> Registry 변경<br><리눅스> iptables를 이용한 투명 프록시 |

### 스푸핑(Spoofing)
- IP Address, MAC Address 등 고유한 정보를 변경하여 공격대상을 속이는 기법

| 종류              | 설명                                                                                                                                                                                                                                    |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ARP Spoofing    | - Address Resolution Protocol Spoofing<br>1. 공격자<br>ARP Request Broadcasting으로 로컬 네트워크 내에 있는 호스트들의 IP/MAC 정보를 확인<br>2. 공격자<br>변조된 ARP 정보를 반복 전송하여, 호스트들의 ARP Cache Table을 위조<br>3. 호스트<br>변조된 ARP Cache Table에 따라 공격자가 지정한 MAC 주소로 접속 |
| DNS Spoofing    | - Domain Name System Spoofing<br>- 호스트의 DNS Query 요청에 대하여 변조된 IP 주소를 응답<br>- 악성코드를 이용하여 호스트 시스템의 hosts 파일을 변조                                                                                                                         |
| IP Spoofing     | - Internet Protocol Spoofing<br>- IP 주소를 공격자의 IP 주소로 변경 -> IP 기반 인증을 무력화                                                                                                                                                              |
| E-Mail Spoofing | - 이메일의 발신자 주소를 위장하여 메일을 전송                                                                                                                                                                                                            |

### Dos, DDos
- Denial of Service, Distributed Dos
- 대량의 서비스 요청 등을 통해 자원을 소진시켜 정상적인 서비스가 불가능하도록 공격
- 가용성 침해 공격
- C&C 서버 : DDos 공격을 시작하거나 공격 과정을 제어하기 위한 명령을 전단
- Agent : 좀비PC에 설치되어 공격 명령에 따라 Dos공격을 수행

### 침해 탐지 기법의 종류와 특징
-  Signature 기반 탐지
	- 알려진 공격 패턴을 등록, 해당하는 패킷/패턴을 발견하여 공격 탐지
	- Misuse 기반 탐지, Knowledge 기반 탐지
	- 오탐율은 낮으나 알려지지 않은 공격에 취약
-  Behavior 기반 탐지
	- 정상 행위에서 벗어난 행위를 탐지
	- 테이터/흐름, 프로그램 동작 방식 등을 ㄷ