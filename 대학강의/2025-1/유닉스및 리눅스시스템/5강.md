# 리눅스 시스템 운영과 관리(1)

### 사용자 및 관한 관리
#### 1) 리눅스 계정과 그룹

| 계정          | 설명                                                                            |
| ----------- | ----------------------------------------------------------------------------- |
| 루트(root) 계정 | 시스템의 모든 권한을 가지며, 슈퍼유저(Super User)라고도 함                                        |
| 시스템 계정      | - 시스템의 특정 서비스에 대한 권한을 갖고 있는 계정<br>- daemon, mail 등                            |
| 사용자 계정      | - 리눅스 시스템 사용자를 위한 계정 <br>- 시스템 파일과 디렉터리에 제한적으로 접근 <br>- 소속된 그룹에 따라 권한이 추가 설정됨 |
#### 리눅스 사용자 계정과 그룹의 특징
- 사용자 계정별로 UID(User ID)를 가지며, 루트의 UID는 ‘0’임
- 시스템 계정의 UID는 일반적으로 1~499의 값을 가짐
- 사용자 계정의 UID는 일반적으로 1000 이상의 값을 가짐

#### 리눅스 사용자 환경설정 파일
##### 계정 및 그룹 설정 파일

| 설정 파일                | 설명                                                                                                                                    |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| /etc/passwd          | - 사용자 계정의 아이디, 그룹 정보 등 계정 정보<br>- 관리 정보 사용자명, 비밀번호, UID, GID, 사용자 설명, 홈 디렉터리, 셸<br>- 비밀번호가 x 이면 암호화된 패스워드를 /etc/shadow에 보관            |
| /etc/shadow          | - 암호화된 패스워드 및 패스워드 정책 설정 정보<br>- 사용자명, 암호화된 패스워드,  마지막 변경일,  최소 사용 기간,  최대 사용 기간, 패스워드가 변경을 경고하는 기간, 패스워드 만료 후 계정 비활성화 유예기간, 패스워드 만료일 |
| /etc/group           | -사용자 그룹의 기본 정보                                                                                                                        |
| /etc/gshadow         | 사용자 그룹의 암호화된 패스워드 정보                                                                                                                  |
| /etc/default/useradd | useradd 명령을 사용할 때 적용될 기본 설정                                                                                                           |
| /etc/login.defs      | 사용자 계정 설정 시 기본값                                                                                                                       |
| /etc/skel            | 홈 디렉터리 생성 시 기본으로 제공할 파일                                                                                                               |

### 주요 명령어
- 계정 관리: `useradd`, `passwd`, `usermod`, `userdel`, `groupadd`, `groupdel`, `groupmod`
- 권한 설정: `chmod`, `chown`, `chgrp`
- 정보 조회: `who`, `id`, `groups`,`w`

### 파일 권한 및 특수 권한
- **권한 관리**: 파일과 디렉터리에 접근 권한 및 소유권 설정.
- ls -al로 얻을 수 있는 정보 
: 파일유형+접근권한, 물리적 파일 연결개수(하드링크), 소유자, 그룹, 크기, 마지막 변경 날짜+시간, 파일명
- **특수 권한**: 
  - `SetUID`, `SetGID`: 소유자(4000)/그룹 권한(2000)으로 실행.
  - `Sticky Bit`: 특정 디렉터리에서 파일 삭제 제한.
- umask
	- 파일은 `666 – umask` 값, 디렉터리는 `777 –umask` 값으로 설정

### 환경 변수 및 셸 설정
- 환경 변수 설정: `export 변수명=값`
- 환경변수 해제 : `unset 변수명`
- 주요 설정 파일:
  - `/etc/profile`, `/etc/bashrc` (공통)
  - `~/.bash_profile`, `~/.bashrc` (사용자별)
