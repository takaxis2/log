# 파일 시스템
### 1) 파티션(Partition)과 디스크 장치명
#### 파티션의 개요
- 물리적 디스크 → 여러 개의 논리적 디스크로 분할
- 파티션별 독립적 파일 시스템 → 관리 효율성(부팅 시간, 오류 점검 시간, 백업/복구), 관리 안전성(시스템 손상 시 영향 최소화)
- 상태 정보 확인 : /proc/partitions

#### 파티션(Partition)의 종류

| 주 파티션<br>(Primary)   | - 부팅이 가능한 기본 파티션, 하나의 디스크에 최대 4개의 주 파티션 분할 가능 <br>- 파티션 번호로 1~4번이 할당           |
| -------------------- | ------------------------------------------------------------------------------ |
| 확장 파티션 (Extended)    | - 하나의 물리적 디스크에 1개만 생성되는 논리적 파티션 <br>- 주 파티션 영역 내에(대체해서) 사용되므로 파티션 번호도 1~4번이 할당 |
| 논리 파티션 <br>(Logical) | - 확장 파티션 안에 생성되는 파티션 <br>- 5번 이후의 번호 할당(개수의 제한은 없으나 일반적으로 12개 이내를 권장           |
| 스왑 파티션<br>(Swap)     | - 디스크의 일부를 메모리처럼 사용하는 영역                                                       |

#### 디스크와 장치명
- 파티션 이름 : 디스크의 장치 파일명 + 숫자
- ex) /dev/hda3 -> /dev + /hd + a + 3
- 마운트(mount)시 지정된 장치명을 사용

| /dev  | 시스템 디바이스 파일들이 저장되는 디렉터리                          |
| ----- | ------------------------------------------------ |
| /hd   | IDE 혹은 ATA(AT Attached) 방식                       |
| /sd   | SCSI(Small Computer System Interface) 혹은 SATA 방식 |
| /nvme | NVME SSD 방식                                      |
| /vd   | 가상 디스크 방식(KVM/Xen)                               |

| a   | 하나의 케이블에 연결된 디스크 순서     |
| --- | ----------------------- |
| 3   | 파티션 번호                  |
| 1~4 | primary 혹은 extended 파티션 |
| 5~  | logical 파티션             |

#### 파일 시스템의 개요
- 디스크의 파티션에 파일을 사용할 수 있도록 구성해 놓은 것 혹은 구성 방식 → 규칙, 구조
- 스토리지 장치(디스크) 상에 파일을 관리할 수 있도록 만들어 놓은 구조 혹은 관리하는 방식 
→ 서버 파일 접근, 가상 파일까지 확대

#### 파일 시스템의 유형

| 리눅스 전용       | ext1, ext2, ext3, ext4        |
| ------------ | ----------------------------- |
| 저널링 파일 시스템   | JFS, XFS                      |
| 네트워크 파일 시스템  | SMB, NFS                      |
| 클러스터링 파일 시스템 | GFS                           |
| 장치 파일 시스템    | IS9660, UDF                   |
| 운영체제별 파일 시스템 | FAT32(범용), NFTS(윈도우 기본), HPFS |

#### 리눅스 파일 시스템의 종류 및 특징

| 파일 시스템    | 특징                                                                                 |
| --------- | ---------------------------------------------------------------------------------- |
| ext(ext1) | - 리눅스 초기 파일 시스템<br>- 2GByte의 데이터, 255자까지 파일명 지정                                    |
| ext2      | 고용량 디스크 사용, 호환성과 업그레이드 고려                                                          |
| ext3      | 저널링(journaling), ACL(Access Control List)를 통한 접근 제어 지원                             |
| ext4      | 물리적으로 연속적인 블록에 파일 할당, 16 TeraByte의 파일 지원                                           |
| JFS       | Journaling File System, IBM사의 독자적인 저널링 파일 시스템(GPL로 공개)                             |
| XFS       | - eXetended File System, 고성능 저널링 시스템<br>- 64비트 주소를 지원, 신속한 복구와 재시작, 데이터 읽기/쓰기 트랜잭션 |
| ReiserFS  | - 독일의 한스 라이저(Hans Reiser)가 개발, 안정적인 저널링 파일 시스템<br>- 파일 객체들을 B트리에 저장, 색인화 된 디렉터리 지원                               |

#### LVM의 개요
- 하나 이상의 물리적인 디스크를 논리적으로 통합, 분할, 사용하는 유연한 스토리지 관리 시스템
- 큰 용량의 저장장치, 파티션 구성에 유연성
![[Pasted image 20250413152023.png]]

#### LVM 구성 불륨의 종류

| 물리 볼륨 <br>(PV, Physical Volume) | - 개별 물리적인 디스크를 LVM에 사용할 수 있도록 변환<br>- 기본 4MB인 PE(Physical Extent) 블록으로 구성 |
| ------------------------------- | ------------------------------------------------------------------------- |
| 볼륨 그룹 <br>(VG, Volume Group)    | - 하나 이상의 PV를 하나의 그룹으로 구성한 묶은 것<br>- 스토리지 풀의 개념                            |
| 논리 볼륨 <br>(LV, Logical Volume)  | - VG에서 할당 받은 공간, 실제 파일 시스템이 생성되는 공간                                       |

#### Raid의 개요
- Redundant Array of Independent Disks
- 여러 개의 물리적 디스크를 하나의 논리적 디스크로 구성하여 사용하는 방법
- 데이터 분할 저장, 데이터 중복 저장, 오류 관리
- 고용량, 신뢰성, 성능 향상

#### Raid 구성방식

| RAID 0     | 스트라이핑, 디스크에 나누어 저장 → 고용량, 빠른 I/O, 고장에 취약 |
| ---------- | ---------------------------------------- |
| RAID 1     | 미러링, 디스크에 중복 저장 → 결함허용, 2배의 저장 공간 필요     |
| RAID 0 + 1 | 스트라이핑 후 미러링                              |
| RAID 1 + 0 | 미러링 후 스트라이핑                              |

### 2) 파일 시스템 관리
