
## 요약

본 문서는 운영체제의 핵심 기능 중 하나인 보조기억장치 관리와 디스크 스케줄링 기법을 종합적으로 분석한다. 주기억장치는 휘발성이고 용량이 제한적이므로, 대용량 데이터를 영구적으로 저장하기 위한 보조기억장치의 효율적인 관리가 필수적이다. 이를 위해 컴퓨터 시스템은 레지스터, 캐시, 주기억장치, 보조기억장치로 이어지는 계층적 구조를 채택하여 속도, 비용, 용량 간의 균형을 맞춘다.

보조기억장치는 자기 테이프와 자기 디스크가 대표적이며, 각각 순차 접근과 직접 접근이라는 상이한 특성을 가진다. 특히 자기 디스크의 성능은 탐색 시간, 회전 지연 시간, 전송 시간으로 구성된 접근 시간을 최소화하는 데 달려있다.

시스템은 파일을 저장하고 삭제함에 따라 발생하는 디스크의 가용 공간을 효율적으로 관리해야 한다. 이를 위해 비트 벡터, 연결 리스트, 그룹핑, 카운팅과 같은 다양한 기법을 사용하여 빈 블록을 추적하고 할당한다.

마지막으로, 다수의 입출력 요청을 처리할 때 디스크 헤드의 이동을 최적화하여 시스템 처리율을 높이고 평균 응답 시간을 단축시키는 디스크 스케줄링은 시스템 성능에 지대한 영향을 미친다. 본 문서는 FCFS, SSTF, SCAN, C-SCAN, LOOK 등 주요 스케줄링 알고리즘의 작동 원리, 장단점, 그리고 성능 특성을 심도 있게 다룬다. 각 알고리즘은 공평성, 처리율, 응답 시간 안정성 측면에서 서로 다른 장단점을 가지므로 시스템의 요구사항에 따라 적절한 선택이 요구된다.

## I. 기억장치 계층 구조와 보조기억장치의 역할

### 1. 주기억장치의 한계와 보조기억장치의 필요성

컴퓨터의 모든 프로그램을 주기억장치에 유지하는 것은 현실적으로 불가능하며, 그 이유는 다음과 같다.

- **휘발성(Volatility):** 주기억장치(RAM)는 전원 공급이 중단되면 저장된 모든 정보가 사라진다. 데이터의 영구적인 보존이 필요하다.
- **용량 부족(Limited Capacity):** 모든 프로그램을 저장하기에는 주기억장치의 용량이 절대적으로 부족하다.

이러한 한계를 극복하고 대량의 데이터를 영구적으로 기억하기 위해 비휘발성 저장 매체인 보조기억장치가 사용된다.

### 2. 기억장치의 계층적 구조

대부분의 컴퓨터 시스템은 속도, 비용, 용량에 따라 기억장치를 계층적으로 구성하여 사용한다.

|   |   |   |   |   |   |
|---|---|---|---|---|---|
|계층|장치 예시|CPU 접근 방식|속도|비용 (Bit 당)|용량|
|**최상위**|CPU 레지스터, 캐시|CPU가 직접 접근|매우 빠름|고가|매우 적음|
|**중간**|주기억장치(메모리)|CPU가 직접 접근|빠름|중간|중간|
|**하위**|보조기억장치(디스크, 테이프)|메모리에 읽어온 후 CPU가 접근|느림|저가|큼|

CPU가 즉시 필요로 하는 데이터와 프로그램은 캐시나 주기억장치에 배치하고, 당장 필요하지 않은 정보는 보조기억장치에 배치하여 시스템의 전반적인 효율을 높인다.

### 3. 보조기억장치의 평가 기준

보조기억장치의 성능과 유용성은 다음 기준으로 평가된다.

- **저장장치 용량:** 복잡한 프로그램과 대규모 데이터베이스를 저장할 수 있는 능력.
- **접근 속도:** 정보에 접근하는 데 걸리는 평균 시간으로, 보통 밀리초(ms) 단위로 측정된다.
- **전송률:** 데이터가 보조기억장치에서 주기억장치로 전송되는 속도.
- **크기:** 휴대성 또는 설치 공간에 따른 물리적 크기.
- **분리 가능성:** 착탈식 하드디스크와 같이 장치를 분리할 수 있는지의 여부.
- **비용:** 단위 용량당 가격. 일반적으로 속도가 빠를수록 고가이다.

## II. 주요 보조기억장치의 종류와 특성

### 1. 자기 테이프 (Magnetic Tape)

- **핵심 특징:**
    - 순차 접근 저장 장치(SASD, Sequential Access Storage Device)로 주소 개념이 없다.
    - 대용량 데이터 저장이 가능하나 접근 속도가 느리다.
    - 주로 데이터 백업 및 보관용으로 사용된다.
- **데이터 구조 및 관리:**
    - **레코드 갭(IRG):** 각 레코드 사이에는 테이프의 가속과 감속으로 인해 발생하는 비어있는 공간(갭)이 존재한다.
    - **블로킹(Blocking):** IRG로 인한 공간 낭비를 줄이기 위해 여러 개의 논리적 레코드를 하나의 물리적 레코드(블록)으로 묶는 기법이다.
    - **블록화 인수(Blocking Factor):** 하나의 블록을 구성하는 논리적 레코드의 개수.
    - **블록 간 갭(IBG):** 블로킹 시 블록과 블록 사이에 발생하는 갭.
- **주요 성능 지표:**
    - **BPI (Byte Per Inch):** 1인치당 기록되는 바이트 수로, 기록 밀도를 나타낸다.
    - **IPS (Inch Per Sec):** 1초당 테이프가 이동하는 인치 수로, 전송 속도를 나타낸다.
    - **BPS (Byte Per Sec):** 1초당 전송되는 바이트 수로, 실제 데이터 전송 속도를 의미한다.

### 2. 자기 디스크 (Magnetic Disk)

- **물리적 구조:**
    - **플래터(Platter):** 데이터가 기록되는 원판.
    - **트랙(Track):** 플래터 표면의 동심원. 헤드가 한 번에 읽을 수 있는 데이터의 경로.
    - **섹터(Sector):** 트랙을 부채꼴 모양으로 나눈 영역으로, 데이터 입출력(I/O)의 기본 단위이며 고유 주소가 부여된다.
    - **실린더(Cylinder):** 여러 장의 플래터에서 동일한 반지름을 가지는 트랙들의 수직적 모임.
    - **읽기/쓰기 헤드(Read/Write Head):** 디스크 암(Arm)에 부착되어 트랙 위를 이동하며 데이터를 읽거나 쓴다.
- **디스크 접근 시간 분석:** 디스크에서 데이터를 읽고 쓰는 데 걸리는 총 시간은 세 가지 요소의 합으로 결정된다.
    1. **탐색 시간 (Seek Time):** 헤드가 현재 위치에서 목표 트랙(실린더)까지 이동하는 데 걸리는 시간.
    2. **회전 지연 시간 (Latency Time):** 헤드가 목표 트랙에 도달한 후, 원하는 섹터가 헤드 아래로 회전해 오기까지 기다리는 시간.
    3. **전송 시간 (Transmission Time):** 실제 데이터가 섹터에서 주기억장치로 전송되는 데 걸리는 시간.
- **데이터 기록 밀도 문제 및 해결 방안:**
    - **문제점:** 디스크는 일정한 속도로 회전하므로, 면적이 더 넓은 바깥쪽 트랙은 안쪽 트랙에 비해 데이터 기록 밀도가 낮아져 공간이 낭비된다.
    - **해결 방안:**
        - 바깥쪽 트랙에 더 많은 블록(섹터)을 할당하여 디스크 전체의 기록 밀도를 균일하게 유지한다.
        - 헤드가 바깥쪽으로 이동할 때 디스크 회전 속도를 늦추거나 데이터 전송 속도를 높인다.
        - **디스크 인터리빙(Interleaving):** 디스크 제어기가 데이터를 주기억장치로 전송할 시간을 벌어주기 위해 논리적으로 연속된 블록을 물리적으로는 건너뛰어 배치하는 기법.

## III. 캐시 기억장치 (Cache Memory)

- **정의 및 목적:** CPU와 주기억장치 사이의 현저한 속도 차이를 완화하기 위해 사용되는 고속의 버퍼 기억장치.
- **작동 원리:** 프로그램 실행 시 특정 영역의 데이터나 명령어가 집중적으로 참조되는 **기억장치 참조의 국부성(Locality of Reference)** 원리를 활용한다. 자주 참조되는 데이터를 캐시에 저장하여 평균 기억장치 접근 시간을 단축시킨다.
- **성능 평가:**
    - **히트(Hit):** CPU가 찾는 데이터가 캐시에 존재하는 경우.
    - **미스(Miss):** CPU가 찾는 데이터가 캐시에 없어 주기억장치에서 가져와야 하는 경우.
    - **히트율(Hit Ratio):** 전체 메모리 참조 횟수 중 히트가 발생한 비율로, 캐시의 성능을 나타내는 핵심 지표이다. `히트율 = (히트 수) / (총 참조 수)`

## IV. 디스크 가용 공간 관리 기법

시스템은 파일 생성 및 삭제에 따라 발생하는 디스크의 빈 공간(가용 공간)을 효율적으로 관리하기 위해 **가용 공간 리스트(Free Space List)**를 유지한다. 주요 관리 방법은 다음과 같다.

|   |   |   |   |
|---|---|---|---|
|관리 기법|설명|장점|단점|
|**비트 벡터**|디스크의 각 블록을 하나의 비트(0: 가용, 1: 할당)로 표현하는 비트맵.|구조가 간단하고, 연속된 가용 블록을 찾기 용이하다.|벡터 전체를 주기억장치에 유지해야 하므로 디스크 용량이 크면 비효율적이다.|
|**연결 리스트**|각 가용 블록 내에 다음 가용 블록을 가리키는 포인터를 저장하는 방식.|구현이 간단하다.|특정 개수의 가용 블록을 찾기 위해 리스트 전체를 순회해야 하므로 비효율적이다.|
|**그룹핑**|첫 번째 가용 블록에 여러 개의 다른 가용 블록 주소를 저장하고, 마지막 포인터로 다음 그룹 블록을 가리키는 방식.|여러 개의 가용 블록 주소를 한 번에 쉽게 찾을 수 있다.|-|
|**카운팅**|첫 번째 가용 블록의 주소와 그 뒤로 연속된 가용 블록의 개수를 쌍으로 저장하는 방식.|연속된 공간이 많을 경우 리스트의 크기를 크게 줄일 수 있다.|-|

## V. 디스크 스케줄링 알고리즘 분석

디스크 스케줄링은 여러 입출력 요청이 있을 때 디스크 헤드를 움직이는 순서를 결정하여 성능을 최적화하는 기법이다.

- **스케줄링 목표:**
    1. **처리율(Throughput) 최대화:** 단위 시간당 처리하는 입출력 요청의 수를 최대화한다.
    2. **평균 응답 시간(Mean Response Time) 최소화:** 요청 발생부터 완료까지 걸리는 시간의 평균을 줄인다.
    3. **응답 시간의 분산(Variance of Response Time) 최소화:** 요청 처리 시간의 편차를 줄여 응답 시간을 예측 가능하게 만든다.

### 알고리즘별 상세 분석

|   |   |   |   |   |
|---|---|---|---|---|
|알고리즘|작동 원리|장점|단점|적합한 환경|
|**FCFS** (First Come First Served)|요청이 도착한 순서대로 처리한다.|모든 요청에 공평하며, 구현이 매우 간단하다.|헤드 이동 거리가 비효율적일 수 있어 전체 처리율이 낮고 응답 시간이 길어질 수 있다.|요청이 적고 디스크 부하가 낮은 경우.|
|**SSTF** (Shortest Seek Time First)|현재 헤드 위치에서 가장 가까운(탐색 거리가 가장 짧은) 요청을 먼저 처리한다.|FCFS보다 처리율이 높고 평균 응답 시간이 짧다.|헤드 위치에서 멀리 떨어진 안쪽/바깥쪽 트랙의 요청이 무한정 대기하는 기아(Starvation) 현상이 발생할 수 있다. 응답 시간의 편차가 크다.|일괄 처리 시스템.|
|**SCAN** (Elevator Algorithm)|헤드가 디스크의 한쪽 끝에서 다른 쪽 끝으로 이동하며 경로상의 모든 요청을 처리하고, 끝에 도달하면 방향을 바꿔 반대 방향으로 이동하며 처리한다.|SSTF의 기아 현상을 해결하고, 응답 시간 편차를 줄인다.|헤드가 막 방향을 바꾼 위치의 트랙들은 반대쪽 끝을 다녀올 때까지 오래 기다려야 하므로 불공평함이 존재한다.|-|
|**C-SCAN** (Circular SCAN)|헤드가 항상 한쪽 방향(예: 바깥→안쪽)으로만 이동하며 요청을 처리한다. 끝에 도달하면 요청을 처리하지 않고 곧바로 시작점으로 복귀하여 다시 같은 방향으로 스캔을 시작한다.|SCAN보다 대기 시간을 더 균등하게 분배하며, 트랙 위치에 따른 차별을 완전히 제거한다. 응답 시간 편차가 매우 작다.|SCAN에 비해 불필요한 헤드 이동이 발생할 수 있다.|-|
|**LOOK**|SCAN의 변형으로, 헤드가 이동 방향의 마지막 요청까지만 이동한 후 즉시 방향을 바꾼다. (디스크의 물리적 끝까지 가지 않음)|SCAN의 불필요한 헤드 이동을 제거하여 효율성을 높인다.|SCAN의 기본적인 장단점을 공유한다.|대부분의 현대 시스템.|
|**N-step SCAN**|SCAN과 유사하지만, 한 방향으로 스캔을 시작할 때 대기 큐에 있던 요청들만 서비스한다. 스캔 도중 도착하는 새로운 요청은 다음 스캔을 위해 별도의 큐에 대기시킨다.|특정 실린더에 요청이 집중될 때 발생할 수 있는 무한 지연 가능성을 제거한다.|SSTF나 SCAN보다 응답 시간 편차가 작다.|-|