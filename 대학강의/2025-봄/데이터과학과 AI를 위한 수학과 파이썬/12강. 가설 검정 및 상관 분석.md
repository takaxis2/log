
## EXECUTIVE SUMMARY

본 문서는 범주형 및 연속형 변수에 대한 통계적 가설 검정 방법과 두 연속형 변수 간의 선형 관계를 평가하는 피어슨 상관 분석의 핵심 원리를 종합적으로 요약한다. 주요 내용은 각 분석 기법의 정의, 귀무가설 및 대립가설 설정, 적용 예시, 파이썬(Scipy) 구현 함수를 포함한다.

**범주형 변수 가설 검정**은 이항 검정, 카이제곱 적합도 검정, 카이제곱 독립성 검정으로 구성된다. 이항 검정은 베르누이 시행의 성공 확률을, 카이제곱 적합도 검정은 관측된 빈도가 특정 이론적 분포와 일치하는지를 검증한다. 카이제곱 독립성 검정은 두 범주형 변수 간의 연관성 유무를 판단하는 핵심적인 분석 방법이다.

**연속형 변수 가설 검정**은 주로 t-검정을 중심으로 이루어진다. 단일 표본 t-검정은 단일 집단의 평균이 특정 값과 같은지를, 독립 표본 t-검정은 두 독립된 집단의 평균 차이를 검증한다. 대응 표본 t-검정은 동일 집단에 대한 사전-사후 측정값의 평균 차이를 비교하는 데 사용된다. 또한, t-검정의 기본 가정을 확인하기 위한 등분산성 검정과 정규성 검정 방법도 함께 다룬다.

**피어슨 상관 분석**은 두 연속형 변수 사이에 존재하는 선형 관계의 강도와 방향을 상관계수(r)로 측정한다. 분석의 전제 조건은 변수 간 선형성 및 정규성이며, 비선형 관계의 경우 로그 변환 등의 방법을 통해 선형성을 강화할 수 있다.

--------------------------------------------------------------------------------

## 1. 가설 검정의 기본 절차

가설 검정은 표본 데이터를 사용하여 모집단에 대한 가설의 타당성을 통계적으로 판단하는 과정이다. 이 절차는 다음과 같은 6단계로 구성된다.

1. **귀무가설(H₀)과 대립가설(H₁) 수립**:
    - **귀무가설(Null Hypothesis, H₀)**: 기존에 사실로 받아들여지던 가설 또는 입증을 통해 기각하고자 하는 가설.
    - **대립가설(Alternative Hypothesis, H₁)**: 표본을 통해 새롭게 입증하고자 하는 주장이나 가설.
2. **유의수준(Significance Level, α) 설정**:
    - 제1종 오류(귀무가설이 참임에도 불구하고 기각하는 오류)를 범할 허용 확률.
    - 일반적으로 5% (0.05)를 기준으로 사용한다.
3. **통계적 분석 기법 선택**:
    - 독립변수와 종속변수의 척도(범주형 또는 연속형)에 따라 적절한 확률분포와 검정 방법을 선택한다.
4. **검정통계량 계산 및 기각역/유의확률 비교**:
    - 계산된 검정통계량(Test Statistic)이 기각역(Rejection Region)에 포함되는지 확인한다.
    - 또는 계산된 유의확률(p-value)을 설정된 유의수준(α)과 비교한다.
5. **귀무가설 기각 여부 결정**:
    - **유의확률(p-value) < 유의수준(α)** 이거나,
    - **검정통계량이 기각역보다 크면** 귀무가설을 기각하고 대립가설을 채택한다.
6. **최종 결론 및 의사결정**:
    - 가설 검정 결과를 바탕으로 최종적인 결론을 도출하고 의사결정에 반영한다.

## 2. 범주형 변수의 가설 검정

### 가. 이항 검정 (Binomial Test)

이항 분포를 이용하여 베르누이 확률변수의 모수(μ, 성공 확률)에 대한 가설을 검정한다.

- **귀무가설 (H₀)**: `μ = μ₀` (모집단의 성공 확률은 특정 값 μ₀이다.)
- **대립가설 (H₁)**: `μ ≠ μ₀` (양측검정), `μ > μ₀` 또는 `μ < μ₀` (단측검정)
- **Python 구현**: `scipy.stats.binom_test(x, n, p)`
    - `x`: 성공 횟수 (1이 나온 횟수)
    - `n`: 총 시도 횟수
    - `p`: 귀무가설에서의 성공 확률(μ₀)

### 나. 카이제곱 적합도 검정 (Chi-squared Goodness of Fit Test)

관측된 범주형 데이터의 빈도가 특정 이론적 분포(기대 빈도)와 일치하는지를 검정한다.

- **귀무가설 (H₀)**: `μ = (μ₁, μ₂, ..., μₖ)` (관측분포는 기대분포와 같다.)
- **대립가설 (H₁)**: `μ ≠ (μ₁, μ₂, ..., μₖ)` (관측분포는 기대분포와 다르다.)
- **Python 구현**: `scipy.stats.chisquare(f_obs, f_exp)`
    - `f_obs`: 관측 빈도 데이터 행렬
    - `f_exp`: 기대 빈도 데이터 행렬

### 다. 카이제곱 독립성 검정 (Chi-squared Contingency Test)

두 범주형 변수가 서로 독립적인지, 즉 연관성이 없는지를 검증한다. 분할표 검정 또는 교차분석이라고도 한다.

- **귀무가설 (H₀)**: 두 변수는 서로 독립이다 (상관성이 없다).
- **대립가설 (H₁)**: 두 변수는 서로 종속이다 (연관성이 있다).
- **적용 예시**:
    - 연령대별로 정당 선호도에 차이가 있는가?
    - 성별에 따라 자동차 색상 선호도에 차이가 있는가?
- **기본 가정**: 교차표의 기대빈도가 5 미만인 셀의 수가 전체 셀의 25% 미만이어야 한다. 이 가정을 만족하지 못하면 피셔의 정확검정(Fisher's exact test)을 사용해야 한다.
- **기대빈도 계산**: 기대빈도는 귀무가설(두 변수가 독립) 하에서 각 셀에 예상되는 빈도를 의미한다.
    - `기대빈도 = (해당 행의 합계) × (해당 열의 합계) / (전체 합계)`
- **Python 구현**: `scipy.stats.chi2_contingency()`

## 3. 연속형 변수의 가설 검정

### 가. 단일 표본 t-검정 (One-Sample t-test)

정규분포를 따르는 단일 모집단에서 추출한 표본의 평균이 특정 값(모평균)과 같은지를 검정한다.

- **귀무가설 (H₀)**: `μ = μ₀` (모집단의 평균은 μ₀이다.)
- **대립가설 (H₁)**: `μ ≠ μ₀`, `μ > μ₀`, 또는 `μ < μ₀`
- **적용 예시**:
    - A반 학생들의 수학 평균 점수는 70점이라고 할 수 있는가?
    - 특정 회귀분석 모델의 회귀계수 값이 0이라고 할 수 있는가?
- **Python 구현**: `scipy.stats.ttest_1samp(a, popmean)`
    - `a`: 표본 데이터 배열
    - `popmean`: 귀무가설에서의 기댓값(μ₀)

### 나. 독립 표본 t-검정 (Independent Two-Sample t-test)

서로 독립인 두 집단의 평균이 같은지를 검정한다. 주로 특정 범주형 변수(예: 성별, 집단 A/B)에 따라 연속형 변수(예: 수능 점수, 소득)의 평균에 차이가 있는지 분석할 때 사용된다.

- **귀무가설 (H₀)**: `μ₁ = μ₂` (두 집단의 평균은 같다.)
- **대립가설 (H₁)**: `μ₁ ≠ μ₂`, `μ₁ > μ₂`, 또는 `μ₁ < μ₂`
- **기본 가정**:
    1. **독립성**: 두 그룹은 서로 독립적이다.
    2. **정규성**: 각 집단의 종속변수는 정규분포를 따른다.
    3. **등분산성**: 두 집단의 종속변수의 분산이 같다.
- **Python 구현**: `scipy.stats.ttest_inds(a, b, equal_var=True)`
    - `a`: 첫 번째 그룹 데이터 배열
    - `b`: 두 번째 그룹 데이터 배열
    - `equal_var`: 등분산성 가정 충족 여부 (True: 등분산, False: 이분산)

### 다. 대응 표본 t-검정 (Paired t-test)

동일한 대상에 대해 두 가지 다른 조건(예: 실험 전/후)에서 측정된 값의 평균 차이가 유의미한지를 검정한다.

- **귀무가설 (H₀)**: `μ_pre = μ_post` (사전-사후 평균 차이가 없다: `μ_post - μ_pre = 0`)
- **대립가설 (H₁)**: `μ_pre ≠ μ_post` (사전-사후 평균 차이가 있다.)
- **적용 예시**:
    - 특정 교육 수강 전후의 시험 점수에 차이가 있는가?
    - 약물 치료 전후의 콜레스테롤 수치에 변화가 있는가?
- **Python 구현**: `scipy.stats.ttest_rel(a, b)`
    - `a`: 사전(pre) 표본 데이터
    - `b`: 사후(post) 표본 데이터

### 라. 분석의 기본 가정 검정

#### 1) 등분산성 검정 (Equal-Variance Test)

두 정규분포로부터 추출된 데이터의 분산이 동일한지를 확인하는 검정으로, 독립 표본 t-검정의 전제 조건이다.

- **귀무가설 (H₀)**: `σ₁² = σ₂²` (두 집단의 분산은 같다.)
- **대립가설 (H₁)**: `σ₁² ≠ σ₂²` (두 집단의 분산은 다르다.)
- **Python 구현**:
    - `scipy.stats.bartlett()`
    - `scipy.stats.fligner()`
    - `scipy.stats.levene()`

#### 2) 정규성 검정 (Normality Test)

데이터가 정규분포를 따르는지를 확인하는 검정으로, t-검정과 같은 모수적 통계분석의 기본 가정이다.

- **귀무가설 (H₀)**: 데이터는 정규분포를 따른다.
- **대립가설 (H₁)**: 데이터는 정규분포를 따르지 않는다.
- **Python 구현**:
    - **콜모고로프-스미르노프 검정**: `scipy.stats.ks_2samp()`
    - **샤피로-윌크 검정**: `scipy.stats.shapiro()`

## 4. 피어슨 상관 분석 (Pearson's Correlation Analysis)

두 연속형 변수 간의 **선형적** 관계의 강도와 방향을 측정하는 분석 기법이다.

- **귀무가설 (H₀)**: 두 변수 간에는 선형적인 관계가 없다 (상관계수 = 0).
- **대립가설 (H₁)**: 두 변수 간에는 선형적인 관계가 있다 (상관계수 ≠ 0).
- **기본 가정**:
    1. 두 변수 간의 관계가 선형적이어야 한다 (산점도를 통해 확인).
    2. 두 변수 모두 정규분포를 따라야 한다.
- **Python 구현**: `.corr()` 메소드 (Pandas 데이터프레임에서 사용)

### 가. 상관계수(r)의 의미

|   |   |
|---|---|
|상관계수(r)의 절대값|상관관계의 정도|
|`0.9` ~ `1.0`|매우 강한 상관관계|
|`0.7` ~ `0.9`|강한 상관관계|
|`0.4` ~ `0.7`|다소 있는 상관관계|
|`0.2` ~ `0.4`|약한 상관관계|
|`0.0` ~ `0.2`|거의 없는 상관관계|

- **부호**: `+`는 양의 상관관계(하나가 증가하면 다른 하나도 증가), `-`는 음의 상관관계(하나가 증가하면 다른 하나는 감소)를 의미한다.

### 나. 선형성 변환

변수 간 관계가 비선형일 경우, 특정 변환을 통해 선형성을 강화하여 피어슨 상관 분석을 적용할 수 있다.

- **이차 함수 형태**: 변수를 제곱(`z = -x²`)하거나 범주화(binning)하여 구간별 선형성을 확보할 수 있다.
- **부채꼴 형태**: 로그(`z = log(x)`) 또는 지수(`z = exp(x)`) 변환을 통해 데이터의 퍼짐 정도를 줄여 선형 관계를 만들 수 있다.